# backend/main.py
from fastapi import FastAPI
import psycopg2
import os

app = FastAPI()

# Database connection
conn = psycopg2.connect(
    host="localhost",
    database="Fitness tracker",
    user="postgres",
    password="Asdfghjkl@2107"
)
cursor = conn.cursor()

@app.get("/")
def home():
    return {"message": "Fitness Tracker Backend Running"}

@app.get("/users")
def get_users():
    cursor.execute("SELECT * FROM users;")
    rows = cursor.fetchall()
    return {"users": rows}
